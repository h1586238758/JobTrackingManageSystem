<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../lib/layui-v2.5.5/css/layui.css" media="all">
    <link rel="stylesheet" href="../../css/public.css" media="all">
    <link rel="stylesheet" href="../../lib/lay-module/step-lay/step.css" media="all">

</head>
<body>
<div class="layuimini-container layuimini-form" >
    <div class="layuimini-main">
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
            <legend>个人信息</legend>
        </fieldset>
        <form class="layui-form  layuimini-form" action="" >
            <div class="layui-form-item">
                <label class="layui-form-label required">用户名</label>
                <div class="layui-input-block">
                    <input id="uname" type=class="layui-input-block""text"    lay-vname="cno"  autocomplete="off" placeholder="请输入用户名" class="layui-input">
                </div>
                <span  class="layui-input-block" style="margin-left: 50px" id="s1"></span>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label required">密码</label>
                <div class="layui-input-block" >
                    <input id="upwd" type="password" name="cno"lay-verify="required" lay-reqtext="密码不能为空"autocomplete="off" placeholder="请输入密码" class="layui-input">
                </div>
                <span  class="layui-input-block" style="margin-left: 50px" id="s2" ></span>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label required">确认密码</label>
                <div class="layui-input-block">
                    <input id="upwd1" type="password" name="cno"lay-verify="required" lay-reqtext="密码不能为空"autocomplete="off" placeholder="请输入密码" class="layui-input">
                </div>
                <span  class="layui-input-block" style="margin-left: 50px" id="s3" ></span>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label ">姓名</label>
                <div class="layui-input-block">
                    <input id="name" type="text" name="cno" autocomplete="off" placeholder="请输入姓名" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label ">职位</label>
                <div class="layui-input-block">
                    <input id="job" type="text" name="cno" autocomplete="off" placeholder="请输入职位" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label id="sex" class="layui-form-label">性别</label>
                <div class="layui-input-block">
                    <input type="radio" name="sex" value="男" title="男" checked="">
                    <input type="radio" name="sex" value="女" title="女">
                </div>
            </div>
<!--            <div class="layui-form-item">-->
<!--                <label class="layui-form-label">出生日期</label>-->
<!--                <div class="layui-input-block">-->
<!--                    <input type="text" name="date" id="birth" autocomplete="off" class="layui-input" placeholder="请选择出生日期" readonly>-->
<!--                </div>-->
<!--            </div>-->
            <!--            <div class="layuimini-container">-->
            <div class="layuimini-main">
                <!--                    <blockquote class="layui-elem-quote">-->
                <!--                        省市县区三级联动下拉选择器使用开源项目：layarea<br>-->
                <!--                        <a href="https://github.com/fesiong/layarea" target="_blank" class="layui-btn layui-btn-danger">layarea</a>-->
                <!--                    </blockquote>-->

<!--                <div class="layui-form-item" id="area-picker">-->
<!--                    <div class="layui-form-label" style="margin-left: 30px">籍贯</div>-->
<!--                    <div class="layui-input-inline" style="width: 200px;" >-->
<!--                        <select name="province" class="province-selector"  lay-filter="province-1" readonly="" >-->
<!--                            <option value="" selected>请选择省</option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                    <div class="layui-input-inline" style="width: 200px;">-->
<!--                        <select name="city" class="city-selector"  lay-filter="city-1" readonly="">-->
<!--                            <option value="" selected>请选择市</option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                    <div class="layui-input-inline" style="width: 200px;">-->
<!--                        <select name="county" class="county-selector"  lay-filter="county-1" readonly="">-->
<!--                            <option value="" selected>请选择区</option>-->
<!--                        </select>-->
<!--                    </div>-->
<!--                </div>-->

            </div>
            <!--            </div>-->
            <div class="layui-form-item">
                <label class="layui-form-label">QQ</label>
                <div class="layui-input-block">
                    <input type="tel" id="QQ"name="QQ" lay-verify="required|phone" autocomplete="off" class="layui-input" placeholder="请输入qq">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">微信</label>
                <div class="layui-input-block">
                    <input type="tel" id="WeChat" name="WeChat" lay-verify="required|phone" autocomplete="off" class="layui-input" placeholder="请输入微信">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">联系方式</label>
                <div class="layui-input-block">
                    <input type="tel" name="phone" lay-verify="required|phone" autocomplete="off" class="layui-input" placeholder="请输入联系方式">
                </div>
            </div>
            <div class="layui-form-item layui-form-text">
                <label class="layui-form-label">备注</label>
                <div class="layui-input-block">
                    <textarea placeholder="请输入内容" class="layui-textarea"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button class="layui-btn" lay-submit="" lay-filter="demo1">修改用户信息</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置信息</button>
                </div>
            </div>

            <script src="../../lib/layui-v2.5.5/layui.js" charset="utf-8"></script>
            <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
            <script src="../../js/lay-config.js?v=1.0.4" charset="utf-8"></script>
            <script src="../jquery-3.3.1.js" type="text/javascript"></script>
            <script>
                layui.use(['form', 'layedit', 'laydate','layarea','jquery'], function () {
                    var form = layui.form
                        , layer = layui.layer
                        , layedit = layui.layedit
                        , laydate = layui.laydate
                        , layarea = layui.layarea
                        , $ = layui.$;

                    //日期
                    laydate.render({
                        elem: '#birth'
                    });
                    laydate.render({
                        elem: '#date2'
                    });
                    layarea.render({
                        elem: '#area-picker',
                        change: function (res) {
                            //选择结果
                            console.log(res);
                        }
                    });

                    $("#uname").blur(function () {
                        var username = $("#uname").val();
                        if (username == null || username == ' ' || username.length == 0) {
                            $("#s1").html("<small>用户名不能为空</small>");//验证
                            // css()设置样式
                            $("#s1").css("color", "red");
                            return;
                        }
                        // 用户名正则验证表达式
                        var uPattern = /^[a-zA-Z0-9_-]{4,16}$/;

                        var flag = uPattern.test(username);
                        if (flag) {
                            $("#s1").html("<small>用户名可用</small>");
                            $("#s1").css("color", "green");
                        } else {
                            $("#s1").html("<small>用户名格式不对</small>");
                            $("#s1").css("color", "red");
                            return;
                        }

                    })

                    $("#upwd").blur(function () {
                        var pwd = $("#upwd").val();
                        if (pwd == null || pwd == '  ' || pwd.length == 0) {
                            $("#s2").html("<small>密码不能为空</small>");//验证
                            // css()设置样式
                            $("#s2").css("color", "red");
                            return;
                        }
                        // 用户名正则验证表达式
                        var uPattern = /^[a-zA-Z0-9_-]{3,15}$/;
                        var flag = uPattern.test(pwd);
                        if (flag) {
                            $("#s2").html("密码可用");
                            $("#s2").css("color", "green");
                        } else {
                            $("#s2").html("<small>密码格式不对</small>");
                            $("#s2").css("color", "red");
                            return;
                        }
                        $("#upwd1").blur(function () {
                            var psd = $("#upwd1").val();
                            if (psd == null || psd == '  ' || psd.length == 0) {
                                $("#s3").html("<small>密码不能为空</small>");//验证
                                // css()设置样式
                                $("#s3").css("color", "red");
                                return;
                            }
                            // 用户名正则验证表达式
                            var uPattern = /^[a-zA-Z0-9_-]{3,15}$/;
                            var flag = uPattern.test(pwd);
                            if (flag && 'psd' == 'pwd') {
                                $("#s3").html("密码可用");
                                $("#s3").css("color", "green");
                            }
                            // else if( !flag1 ){
                            //     $("#s3").html("密码错误，请重新输入");
                            //     $("#s3").css("color", "red");
                            // }
                               else {
                                $("#s3").html("<small>密码错误，请重新输入</small>");
                                $("#s3").css("color", "red");
                                return;
                            }


                        })
                        $("#pwd").focus(function () {
                            $("#s2").html("");
                        })

                        $("#username").focus(function () {
                            $("#s1").html("");
                        })

                        $("#pwd1").focus(function () {
                            $("#s3").html("");
                        })
1

                        //创建一个编辑器
                        var editIndex = layedit.build('LAY_demo_editor');

                        //自定义验证规则
                        form.verify({
                            title: function (value) {
                                if (value.length < 5) {
                                    return '标题至少得5个字符啊';
                                }
                            }
                            , pass: [
                                /^[\S]{6,12}$/
                                , '密码必须6到12位，且不能出现空格'
                            ]
                            , content: function (value) {
                                layedit.sync(editIndex);
                            }
                        });

                        //监听指定开关
                        form.on('switch(switchTest)', function (data) {
                            layer.msg('开关checked：' + (this.checked ? 'true' : 'false'), {
                                offset: '6px'
                            });
                            layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
                        });

                        //监听提交
                        form.on('submit(demo1)', function (data) {
                            layer.alert(JSON.stringify(data.field), {
                                title: '最终的提交信息'
                            })
                            return false;
                        });

                        //表单初始赋值
                        /*     form.val('example', {
                        "username": "贤心" // "name": "value"
                        , "password": "123456"
                        , "interest": 1
                        , "like[write]": true //复选框选中状态
                        , "close": true //开关状态
                        , "sex": "女"
                        , "desc": "我爱 layui"
                    })*/


                    })
                })




            </script>
        </form>
    </div>
    </form>
</div>

</div>
</body>
</html>